# ng-lin 專案結構索引

## 核心原則

1. **Task 是唯一業務實體** - 聚焦單一領域
2. **Platform 提供多租戶能力** - User/Org/Team/Bot
3. **Event Sourcing + Causality** - 完整因果追蹤
4. **所有文件 < 4000字元** - 易讀易維護
5. **完整 DDD 分層架構** - 清晰職責分離

## 架構層次

```
src/app/
├── core/          # 核心層（治理中樞）
├── infrastructure/ # 基礎設施層（Firebase/Supabase）
├── platform/      # 平台層（多租戶能力）
└── features/      # 業務層（Task 領域）
```

### Core 層（已完成 100%）

**Foundation**: Identity, Context, Time, Validation
**Governance**: Policy, Authorization, Contract
**Observability**: Events, Audit, Causality
**Error & Result**: 錯誤處理與結果模式

### Infrastructure 層（已完成 100%）

**Abstractions**: IAuth, IRepository, IStorage
**Firebase**: Auth, Repository, Storage, Functions
**Providers**: 依賴注入配置

### Platform 層（待實作）

**核心實體**:
- User（用戶管理）
- Organization（組織管理）
- Team（團隊管理）
- Collaborator（協作者管理）
- Bot（機器人/帳號管理）

**每個實體包含**:
- Events（事件定義）
- Decisions（決策邏輯）
- Projections（視圖投影）
- Commands（命令定義）
- Models（讀模型）

**Platform Processes**:
- Collaboration（協作流程）
- Onboarding（入職流程）
- Team Formation（團隊組建）

### Features 層（Task 領域）

**Task Domain**:
- Events（任務事件）
- Decisions（任務決策）
- Projections（多視圖投影）
  - List View
  - Board View
  - Detail View
  - Why View
  - Timeline View
- Processes（任務流程）
- Commands（任務命令）
- UI Components（UI 組件）

## 實作優先順序

### Phase 1: Platform 基礎（170 files）
1. User Entity（25 files）
2. Organization Entity（25 files）
3. Team Entity（25 files）
4. Collaborator Entity（25 files）
5. Bot Entity（25 files）
6. Platform Event Store（5 files）
7. Collaboration Processes（10 files）
8. Platform UI Components（30 files）

### Phase 2: Task Domain（100 files）
1. Task Events（10 files）
2. Task Decisions（10 files）
3. Task Projections（10 files）
4. Task Processes（5 files）
5. Task Commands（10 files）
6. Task Models（5 files）
7. Task UI Components（50 files）

### Phase 3: Integration & Testing
1. Platform ↔ Task 整合測試
2. E2E 測試擴展
3. Dev Tools 更新
4. Documentation 完善

## 目錄導覽

詳細內容請參閱以下文件：
- **01A, 01B** - Event-Sourcing 核心
- **02A, 02B** - Task 管理
- **03A, 03B** - 協作與驗收
- **04A, 04B** - 財務管理
- **11** - 架構分層與治理
- **12** - Task 多視圖架構
- **13** - 平台層 SaaS 架構
- **14** - Angular 技術選型

---

**版本**: 1.0  
**來源**: 0-目錄-v2-Task-SaaS.md（精簡版）
