# 驗收流程

## 三層驗收機制

### 第一層: 自我檢查 (Self-Check)

**執行者完成工作後的自我檢查**

```
Event: TaskSelfChecked
  taskId: "task-110-A-01"
  checkedBy: "張三"
  checkResult: "Passed" | "Failed"
  checkItems: [
    { item: "機櫃水平度", result: "OK", value: "±0.5mm" },
    { item: "固定螺絲", result: "OK", count: 8 },
    { item: "安全標示", result: "OK" }
  ]
  photos: ["self-check-001.jpg"]
  timestamp: "2024-03-15 16:00:00"
```

### 第二層: 內部驗收

**工地主管或 QC 的內部驗收**

```
Event: InternalAcceptancePerformed
  inspector: "工地主管"
  inspectionType: "Visual | Measurement | Testing"
  result: "Approved | ConditionalApproved | Rejected"
  findings: [
    { severity: "Minor", issue: "標籤偏移" }
  ]
  photos: ["inspection-001.jpg"]
```

**驗收結果處理:**
```
Approved (通過):
  → TaskCompleted Event
  → 可進入下一階段
  
ConditionalApproved (有條件通過):
  → 記錄改善事項
  → 設定完成期限
  → 追蹤改善進度
  
Rejected (不通過):
  → TaskRejected Event
  → 退回重做
  → 記錄問題原因
```

### 第三層: 客戶驗收 (Customer Acceptance)

**業主或監造單位的正式驗收**

```
Event: CustomerAcceptanceRequested
  workPackageId: "WP-SS-A01"
  requestedBy: "專案經理"
  requestedDate: "2024-03-20"
  estimatedDuration: "2 hours"
  requiredAttendees: ["業主代表", "監造單位", "專案經理"]
  documents: [
    "施工記錄",
    "測試報告",
    "材料證明",
    "竣工圖"
  ]
```

**驗收會議流程:**
```
1. 準備階段
   - 檢查文件完整性
   - 確認測試完成
   - 準備簡報材料
   
2. 現場檢查
   - 外觀檢查
   - 功能測試
   - 尺寸量測
   
3. 文件審查
   - 施工記錄
   - 測試報告
   - 變更記錄
   
4. 簽署驗收
   - 驗收意見記錄
   - 改善事項列表
   - 驗收文件簽署
```

## 驗收不通過處理

### 缺失管理

```
Event: DefectIdentified
  inspectionId: "INS-001"
  defectId: "DEF-001"
  severity: "Critical" | "Major" | "Minor"
  category: "Quality" | "Safety" | "Specification"
  description: "機櫃固定螺絲未鎖緊"
  location: "SS-A01"
  identifiedBy: "監造單位"
  photos: ["defect-001.jpg"]
  requiresAction: true
  targetResolutionDate: "2024-03-22"
```

**缺失分級:**
```
Critical (嚴重):
  - 立即停工
  - 24 小時內回應
  - 專案經理親自處理
  
Major (重大):
  - 3 天內改善
  - QC 主管追蹤
  - 改善後重新驗收
  
Minor (輕微):
  - 1 週內改善
  - 現場主管處理
  - 下次驗收一併確認
```

### 改善追蹤

```
Event: DefectResolved
  defectId: "DEF-001"
  resolvedBy: "張三組"
  resolutionDate: "2024-03-21"
  resolutionMethod: "重新鎖緊螺絲並加裝墊片"
  verifiedBy: "QC-王五"
  verificationPhotos: ["resolved-001.jpg"]
  reInspectionRequired: true
```

## 驗收文件管理

### 必要文件清單

```
基本文件:
  □ 施工日誌
  □ 材料進場記錄
  □ 測試報告
  □ 竣工圖
  □ 變更記錄
  
專業文件:
  □ 設備出廠證明
  □ 配線測試記錄
  □ 儀控測試報告
  □ 安全檢查表
```

### 文件審核

```
Event: DocumentationReviewed
  reviewId: "DOC-REV-001"
  reviewedBy: "文件管理員"
  reviewDate: "2024-03-19"
  documents: [
    { name: "施工日誌", status: "Approved" },
    { name: "測試報告", status: "NeedsRevision", reason: "缺少測試數據" }
  ]
  overallStatus: "ConditionalPass"
```

## 驗收後處理

### 驗收通過

```
Event: AcceptancePassed
  workPackageId: "WP-SS-A01"
  acceptanceDate: "2024-03-20"
  acceptedBy: "業主代表"
  completionCertificate: "CERT-001"
  warrantyStartDate: "2024-03-20"
  warrantyPeriod: "12 months"
```

**後續動作:**
```
1. 產生驗收證書
2. 啟動保固期
3. 提交請款資料
4. 歸檔驗收文件
5. 移交維護團隊
```

### 驗收保留

```
Event: AcceptanceWithHoldItems
  workPackageId: "WP-SS-A01"
  holdItems: [
    {
      item: "標籤補貼",
      targetDate: "2024-03-25",
      responsible: "張三組"
    }
  ]
  conditionalAcceptanceDate: "2024-03-20"
  finalAcceptancePending: true
```

## 總結

驗收流程的關鍵:
1. **三層驗收** - 自我/內部/客戶
2. **缺失管理** - 分級處理與追蹤
3. **文件完整** - 所有記錄齊全
4. **Event 記錄** - 完整驗收歷史
5. **後續追蹤** - 保固與維護
