# ng-lin å°ˆæ¡ˆæ¥­å‹™å¯¦é«”å»ºç«‹æº–å‚™åº¦è¨è«–

## ğŸ“Š åŸ·è¡Œæ‘˜è¦

ç¶“éæ·±å…¥åˆ†æå°ˆæ¡ˆæ–‡ä»¶èˆ‡ç¾æœ‰ä»£ç¢¼ï¼Œ**çµè«–æ˜¯ï¼šå¯ä»¥é–‹å§‹å»ºç«‹æ¥­å‹™å¯¦é«”ï¼Œä½†éœ€è¦å…ˆé€²è¡Œæ¶æ§‹é‡æ§‹**ã€‚

**æ•´é«”æº–å‚™åº¦è©•åˆ†**: âš ï¸ **65% (C+ç´š)**

---

## âœ… å·²å®Œæˆçš„å„ªç§€åŸºç¤

### 1. Core Layer - 100% å®Œæˆ (Aç´š)

ä½ å€‘çš„ Core Layer å¯¦ä½œéå¸¸æ‰å¯¦ï¼š

```
âœ… Foundation (åŸºç¤è¨­æ–½)
   - Identity, Context, Time, Validation å…¨éƒ¨å®Œæˆ
   
âœ… Governance (æ²»ç†)
   - Policy Engine, Authorization, Contract å®Œæ•´å¯¦ä½œ
   
âœ… Observability (å¯è§€æ¸¬æ€§)
   - Events, Audit, Causality Tracking å®Œå…¨ç¬¦åˆéœ€æ±‚
   
âœ… Error & Result (éŒ¯èª¤è™•ç†)
   - Result<T, E> æ¨¡å¼å®Œæ•´
   - ErrorFactory çµ±ä¸€ç®¡ç†
   - å‹åˆ¥å®‰å…¨ä¿è­‰
```

**é€™æ˜¯ä¸€å€‹éå¸¸å …å¯¦çš„åŸºç¤ï¼** ğŸ‘

### 2. Infrastructure Layer - 100% å®Œæˆ (Aç´š)

åŸºç¤è¨­æ–½å±¤ä¹Ÿå¾ˆå®Œæ•´ï¼š

```
âœ… é›™è³‡æ–™åº«æ”¯æ´ (Firebase + Supabase)
âœ… Event Store å®Œæ•´å¯¦ä½œ
âœ… Causality è¿½è¹¤æ©Ÿåˆ¶å®Œæ•´ (causedBy, correlationId)
âœ… æŠ½è±¡ä»‹é¢æ¸…æ™° (IAuth, IRepository, IEventStore)
âœ… ä¾è³´æ³¨å…¥é…ç½®å®Œå–„
```

**åŸºç¤è¨­æ–½å·²ç¶“æº–å‚™å¥½æ”¯æ´ Event Sourcing æ¶æ§‹ï¼** ğŸ‘

---

## âš ï¸ éœ€è¦é‡æ§‹çš„éƒ¨åˆ†

### æ ¸å¿ƒå•é¡Œï¼šç¾æœ‰æ¶æ§‹ä¸ç¬¦åˆ Task.md åŸå‰‡

æ ¹æ“šä½ å€‘çš„ `docs/dev/0-ç›®éŒ„-v2-Task-SaaS.md` å’Œ `docs/dev/Task.md`ï¼Œæ˜ç¢ºè¦å®šï¼š

> **Task æ˜¯å”¯ä¸€æ¥­å‹™å¯¦é«”**

ä½†ç¾åœ¨çš„ `src/app/features/domains/` æœ‰ï¼š

```
features/domains/
â”œâ”€â”€ activity/     âŒ é•ååŸå‰‡
â”œâ”€â”€ attachment/   âŒ æ‡‰ç‚º Task çš„é™„ä»¶äº‹ä»¶
â”œâ”€â”€ comment/      âŒ æ‡‰ç‚º Task çš„è©•è«–äº‹ä»¶
â”œâ”€â”€ discussion/   âŒ æ‡‰ç‚º Task çš„è¨è«–äº‹ä»¶
â”œâ”€â”€ issue/        âŒ æ‡‰åˆä½µåˆ° Task
â”œâ”€â”€ task/         âš ï¸ å­˜åœ¨ä½†æœªå®Œæ•´å¯¦ä½œ
â””â”€â”€ user/         âŒ æ‡‰ç§»è‡³ Platform Layer
```

**é€™æ˜¯æœ€å¤§çš„æ¶æ§‹é•è¦ï¼** éœ€è¦ç«‹å³é‡æ§‹ã€‚

---

## ğŸ¯ æ­£ç¢ºçš„æ¶æ§‹æ‡‰è©²æ˜¯

### æ ¹æ“š Task.md åŸå‰‡

```
features/domains/
â””â”€â”€ task/                      â† å”¯ä¸€æ¥­å‹™å¯¦é«”
    â”œâ”€â”€ events/                â† Event Sourcing æ ¸å¿ƒ
    â”‚   â”œâ”€â”€ task.events.ts
    â”‚   â”œâ”€â”€ task-lifecycle.events.ts
    â”‚   â”œâ”€â”€ task-comment.events.ts      â† comment æ˜¯äº‹ä»¶ï¼Œä¸æ˜¯å¯¦é«”
    â”‚   â”œâ”€â”€ task-discussion.events.ts   â† discussion æ˜¯äº‹ä»¶
    â”‚   â””â”€â”€ task-attachment.events.ts   â† attachment æ˜¯äº‹ä»¶
    â”‚
    â”œâ”€â”€ decisions/             â† æ¥­å‹™æ±ºç­–é‚è¼¯ (ç´”å‡½æ•¸)
    â”‚   â”œâ”€â”€ task.decisions.ts
    â”‚   â”œâ”€â”€ comment.decisions.ts
    â”‚   â”œâ”€â”€ discussion.decisions.ts
    â”‚   â””â”€â”€ attachment.decisions.ts
    â”‚
    â”œâ”€â”€ projections/           â† å¤šè¦–åœ–æŠ•å½±
    â”‚   â”œâ”€â”€ task-list.projection.ts
    â”‚   â”œâ”€â”€ task-board.projection.ts
    â”‚   â”œâ”€â”€ task-why.projection.ts
    â”‚   â”œâ”€â”€ task-discussion.projection.ts
    â”‚   â””â”€â”€ task-timeline.projection.ts
    â”‚
    â”œâ”€â”€ processes/             â† Saga/æµç¨‹ç·¨æ’
    â”‚   â”œâ”€â”€ task-lifecycle.process.ts
    â”‚   â””â”€â”€ task-collaboration.process.ts
    â”‚
    â”œâ”€â”€ commands/              â† å‘½ä»¤å®šç¾©
    â”œâ”€â”€ models/                â† è®€æ¨¡å‹
    â””â”€â”€ ui/                    â† UI çµ„ä»¶
```

**é€™æ‰ç¬¦åˆä½ å€‘æ–‡ä»¶å®šç¾©çš„æ¶æ§‹ï¼**

### Platform Layer æ‡‰è©²ç®¡ç†å¤šç§Ÿæˆ¶

```
platform/
â””â”€â”€ entities/
    â”œâ”€â”€ user/          â† å¾ features/domains/user ç§»éä¾†
    â”œâ”€â”€ organization/
    â”œâ”€â”€ team/
    â”œâ”€â”€ collaborator/
    â””â”€â”€ bot/
```

---

## ğŸš§ ç¼ºå°‘çš„é—œéµçµ„ä»¶

### 1. Projection Engine (é‡è¦ï¼)

ä½ å€‘æœ‰å®Œæ•´çš„ Event Storeï¼Œä½†æ²’æœ‰ Projection Engineï¼š

```typescript
// âŒ ç¾åœ¨ç¼ºå°‘é€™å€‹
interface ProjectionEngine {
  // å¾ Events é‡å»ºç‹€æ…‹
  project<T>(events: StoredEvent[]): T;
  
  // Snapshot å„ªåŒ–
  getSnapshot<T>(aggregateId: string): Promise<T | null>;
  createSnapshot<T>(aggregateId: string, state: T): Promise<void>;
  
  // Event Replay
  replay(aggregateId: string, toVersion?: number): Promise<void>;
}
```

**æ²’æœ‰ Projection Engineï¼Œå°±ç„¡æ³•å¯¦ç¾ "State = replay(events)" åŸå‰‡ï¼**

### 2. Decision Layer (ç´”å‡½æ•¸æ±ºç­–)

ç¾æœ‰ä»£ç¢¼æ²’æœ‰ `decisions/` å±¤ï¼š

```typescript
// âŒ ç¾åœ¨æ²’æœ‰
export function decideCompleteTask(
  events: TaskEvent[],
  command: CompleteTaskCommand
): Result<TaskCompletedEvent, DomainError> {
  // ç´”å‡½æ•¸ï¼šå¾æ­·å² events åˆ¤æ–·æ˜¯å¦å¯ä»¥å®Œæˆ Task
  const currentState = projectTaskState(events);
  
  if (currentState.status !== 'InProgress') {
    return err(ErrorFactory.domain.businessRule(
      'Task must be in progress to complete'
    ));
  }
  
  return ok({
    type: 'TaskCompleted',
    taskId: command.taskId,
    completedAt: new Date(),
    completedBy: command.userId
  });
}
```

**Decision å±¤æ˜¯ Event Sourcing çš„æ ¸å¿ƒï¼æ‰€æœ‰æ¥­å‹™è¦å‰‡éƒ½æ‡‰è©²æ˜¯ç´”å‡½æ•¸ã€‚**

### 3. Process Manager (Saga)

```typescript
// âŒ ç¾åœ¨ç¼ºå°‘
class TaskLifecycleProcess {
  async handle(event: TaskEvent): Promise<void> {
    switch (event.type) {
      case 'TaskCompleted':
        // æª¢æŸ¥æ˜¯å¦éœ€è¦å»ºç«‹ä¸‹ä¸€å€‹ Task
        await this.handleTaskCompleted(event);
        break;
      
      case 'TaskBlocked':
        // ç™¼é€é€šçŸ¥
        await this.notifyTeam(event);
        break;
    }
  }
}
```

---

## ğŸ“‹ å»ºè­°çš„å¯¦ä½œé †åº

### ç¬¬ä¸€éšæ®µï¼šé‡æ§‹ç¾æœ‰æ¶æ§‹ (1-2 é€±)

**å„ªå…ˆç´šï¼šğŸ”´ æ¥µé«˜ - å¿…é ˆå…ˆåš**

```
Week 1:
â–¡ å‰µå»º ADR è¨˜éŒ„æ¶æ§‹æ±ºç­–
â–¡ å»ºç«‹ Projection Engine åŸºç¤è¨­æ–½
  - ProjectionEngine interface
  - Snapshot æ©Ÿåˆ¶
  - Event Replay åŠŸèƒ½

Week 2:
â–¡ é‡æ§‹ features/domains/
  - åˆªé™¤ activity/, attachment/, comment/, discussion/
  - ä¿ç•™ä½†é‡æ§‹ task/
  - å°‡ user/ ç§»è‡³ platform/entities/
  - å°‡ issue/ åˆä½µåˆ° task/
```

**é ä¼°å½±éŸ¿**: ~50 files (åˆªé™¤å’Œé‡æ§‹)

### ç¬¬äºŒéšæ®µï¼šå»ºç«‹å®Œæ•´ Task Domain (2-3 é€±)

**å„ªå…ˆç´šï¼šğŸ”´ é«˜ - æ ¸å¿ƒæ¥­å‹™**

```
Week 3-4:
â–¡ Task Events (10 files)
  - task.events.ts
  - task-lifecycle.events.ts
  - task-comment.events.ts
  - task-discussion.events.ts
  - task-attachment.events.ts

â–¡ Task Decisions (10 files)
  - æ‰€æœ‰æ±ºç­–é‚è¼¯ç‚ºç´”å‡½æ•¸
  - å¾ events æ¨å°ç‹€æ…‹
  - é©—è­‰æ¥­å‹™è¦å‰‡

Week 4-5:
â–¡ Task Projections (10 files)
  - task-list.projection.ts (åˆ—è¡¨è¦–åœ–)
  - task-board.projection.ts (çœ‹æ¿è¦–åœ–)
  - task-why.projection.ts (Whyè¦–åœ– - è§£é‡‹ç•¶å‰ç‹€æ…‹)
  - task-discussion.projection.ts
  - task-timeline.projection.ts

â–¡ Task Processes (5 files)
  - task-lifecycle.process.ts
  - task-collaboration.process.ts

Week 5-6:
â–¡ Task Commands & Models (15 files)
â–¡ Task UI Components (50 files)
```

**é ä¼°å½±éŸ¿**: ~100 files (æ–°å¢)

### ç¬¬ä¸‰éšæ®µï¼šå®Œå–„ Platform Layer (2-3 é€±)

**å„ªå…ˆç´šï¼šğŸŸ¡ ä¸­ - æ”¯æ´å¤šç§Ÿæˆ¶**

```
Week 6-9:
â–¡ å®Œå–„ Platform Entities (125 files)
  æ¯å€‹ Entity (User, Org, Team, Collaborator, Bot):
  - Events
  - Decisions
  - Projections
  - Commands
  - Models

â–¡ Platform Processes (10 files)
  - collaboration.process.ts
  - onboarding.process.ts
  - team-formation.process.ts

â–¡ Platform UI (30 files)
```

**é ä¼°å½±éŸ¿**: ~170 files (æ–°å¢)

### ç¬¬å››éšæ®µï¼šæ•´åˆèˆ‡æ¸¬è©¦ (1-2 é€±)

**å„ªå…ˆç´šï¼šğŸŸ¢ æ­£å¸¸ - å“è³ªä¿è­‰**

```
Week 10-12:
â–¡ Platform â†” Task æ•´åˆæ¸¬è©¦
â–¡ E2E æ¸¬è©¦æ“´å±•
â–¡ Dev Tools æ›´æ–°
â–¡ æ–‡ä»¶å®Œå–„
```

**é ä¼°å½±éŸ¿**: ~50 files (æ¸¬è©¦å’Œæ–‡ä»¶)

---

## ğŸ¯ ç«‹å³è¡Œå‹•é …ç›® (æœ¬é€±å¿…åš)

### 1. å‰µå»º ADR (Architecture Decision Record)

**ADR-001**: éµå¾ª Task.md å–®ä¸€æ¥­å‹™å¯¦é«”åŸå‰‡

```markdown
# ADR-001: Task ä½œç‚ºå”¯ä¸€æ¥­å‹™å¯¦é«”

## æ±ºç­–
Task æ˜¯ç³»çµ±ä¸­å”¯ä¸€çš„æ¥­å‹™å¯¦é«” (Aggregate Root)ã€‚
Comment, Discussion, Attachment éƒ½æ˜¯ Task çš„äº‹ä»¶é¡å‹ï¼Œä¸æ˜¯ç¨ç«‹å¯¦é«”ã€‚

## ç†ç”±
1. ç¬¦åˆ Task.md æ¶æ§‹åŸå‰‡
2. ç°¡åŒ–é ˜åŸŸæ¨¡å‹
3. å®Œæ•´çš„äº‹ä»¶æº¯æºæ”¯æ´
4. é¿å…è·¨å¯¦é«”ä¸€è‡´æ€§å•é¡Œ

## å½±éŸ¿
- éœ€è¦é‡æ§‹ç¾æœ‰ features/domains/ çµæ§‹
- åˆªé™¤ activity/, attachment/, comment/, discussion/ 
- å°‡ issue/ åˆä½µåˆ° task/
- å°‡ user/ ç§»è‡³ platform/entities/

## ç‹€æ…‹
ACCEPTED

## æ—¥æœŸ
2025-12-31
```

**ADR-002**: Event Sourcing + Projection æ¶æ§‹

```markdown
# ADR-002: Event Sourcing + Projection æ¶æ§‹å¯¦ä½œ

## æ±ºç­–
å¯¦ä½œå®Œæ•´çš„ Event Sourcing æ¶æ§‹ï¼ŒåŒ…å«ï¼š
1. Event Store (å·²å®Œæˆ)
2. Projection Engine (å¾…å»ºç«‹)
3. Snapshot æ©Ÿåˆ¶ (å¾…å»ºç«‹)
4. Decision Layer (å¾…å»ºç«‹)
5. Process Manager (å¾…å»ºç«‹)

## ç†ç”±
1. ç¬¦åˆ Causality-Driven Event-Sourced Process System
2. æ”¯æ´å®Œæ•´çš„å› æœè¿½è¹¤
3. æ”¯æ´å¤šè¦–åœ–æŠ•å½±
4. æ”¯æ´ Event Replay å’Œ Time Travel

## å¯¦ä½œé †åº
1. Week 1: å»ºç«‹ Projection Engine
2. Week 1: å¯¦ä½œ Snapshot æ©Ÿåˆ¶
3. Week 2-3: å»ºç«‹ Decision Layer
4. Week 3-4: å¯¦ä½œ Process Manager

## ç‹€æ…‹
PROPOSED

## æ—¥æœŸ
2025-12-31
```

### 2. å»ºç«‹ Projection Engine éª¨æ¶

**ä½ç½®**: `src/app/core/projection/`

```typescript
// projection-engine.interface.ts
export interface ProjectionEngine {
  project<T>(events: StoredEvent[]): T;
  getSnapshot<T>(aggregateId: string): Promise<T | null>;
  createSnapshot<T>(aggregateId: string, state: T): Promise<void>;
  replay(aggregateId: string, toVersion?: number): Promise<void>;
}

// projection-builder.ts
export abstract class ProjectionBuilder<T> {
  abstract getInitialState(): T;
  abstract apply(state: T, event: StoredEvent): T;
  
  project(events: StoredEvent[]): T {
    let state = this.getInitialState();
    for (const event of events) {
      state = this.apply(state, event);
    }
    return state;
  }
}
```

### 3. è¦åŠƒé‡æ§‹ç´°ç¯€

å‰µå»º `docs/dev/refactoring-plan.md`ï¼š

```markdown
# features/domains/ é‡æ§‹è¨ˆåŠƒ

## ç›®æ¨™
ç¬¦åˆ Task.md æ¶æ§‹åŸå‰‡ï¼ŒTask ä½œç‚ºå”¯ä¸€æ¥­å‹™å¯¦é«”ã€‚

## æ­¥é©Ÿ

### Step 1: å‡çµæ–°åŠŸèƒ½é–‹ç™¼
- [ ] åœ¨ activity/, attachment/, comment/, discussion/ ä¸Šæ¨™è¨˜ @deprecated
- [ ] ç¦æ­¢æ–°å¢åŠŸèƒ½åˆ°é€™äº›ç›®éŒ„

### Step 2: æ¸¬è©¦è¦†è“‹
- [ ] ç‚ºç¾æœ‰åŠŸèƒ½å»ºç«‹æ¸¬è©¦
- [ ] ç¢ºä¿é‡æ§‹å¾ŒåŠŸèƒ½ä¸è®Š

### Step 3: æ¼¸é€²å¼é‡æ§‹
- [ ] å°‡ issue/ é‡æ§‹åˆä½µè‡³ task/
- [ ] å°‡ attachment/, comment/, discussion/ è½‰ç‚º Task Events
- [ ] å°‡ user/ ç§»è‡³ platform/entities/
- [ ] åˆªé™¤ activity/ (æ”¹ç”¨ Task Events è¿½è¹¤)

### Step 4: é©—è­‰
- [ ] æ‰€æœ‰æ¸¬è©¦é€šé
- [ ] æ¶æ§‹ç¬¦åˆ Task.md
- [ ] ESLint è¦å‰‡é€šé
```

---

## ğŸ’¡ é—œéµå»ºè­°

### 1. ä¸è¦æ€¥æ–¼å»ºç«‹æ–°å¯¦é«”

**å…ˆé‡æ§‹ï¼Œå†å»ºç«‹**ã€‚å¦‚æœç¾åœ¨ç›´æ¥é–‹å§‹å»ºç«‹æ–°çš„æ¥­å‹™å¯¦é«”ï¼Œæœƒï¼š
- âŒ é•å Task.md åŸå‰‡
- âŒ å¢åŠ æŠ€è¡“å‚µ
- âŒ æœªä¾†é‡æ§‹æˆæœ¬æ›´é«˜

### 2. åš´æ ¼éµå¾ª Event Sourcing åŸå‰‡

**ç¦æ­¢äº‹é …** (æ ¹æ“šä½ å€‘çš„æ–‡ä»¶):
- âŒ ç¦æ­¢ `throw new Error` (ä½¿ç”¨ `Result.Err`)
- âŒ ç¦æ­¢ CRUD ç›´æ¥ä¿®æ”¹ç‹€æ…‹ (ä½¿ç”¨ Events)
- âŒ ç¦æ­¢åœ¨ Domain å¯« `if (role === ...)` (ä½¿ç”¨ Policy Engine)
- âŒ ç¦æ­¢ Domain ç›´æ¥ä¾è³´ Infrastructure

**å¿…é ˆäº‹é …**:
- âœ… æ‰€æœ‰ç‹€æ…‹è®Šæ›´é€é Event
- âœ… æ‰€æœ‰æ±ºç­–é€é Decision (ç´”å‡½æ•¸)
- âœ… å®Œæ•´ä¿ç•™ Causality éˆ (`causedBy`)
- âœ… ç‹€æ…‹é€é Projection é‡å»º

### 3. å»ºç«‹å®Œæ•´çš„æ¸¬è©¦

**æ¯ä¸€å±¤éƒ½éœ€è¦æ¸¬è©¦**:
```
Unit Tests:
- Decision å±¤ (ç´”å‡½æ•¸ï¼Œæ˜“æ¸¬è©¦)
- Projection å±¤ (Event â†’ State è½‰æ›)

Integration Tests:
- Event Store è®€å¯«
- Projection Engine
- Process Manager

E2E Tests:
- UI â†’ Commands â†’ Events â†’ Projections â†’ UI
```

---

## ğŸ“Š é ä¼°æ™‚ç¨‹

| éšæ®µ | æ™‚é–“ | é‡é»å·¥ä½œ | æª”æ¡ˆè®Šå‹• |
|------|------|----------|----------|
| **Phase 1: é‡æ§‹** | 1-2 é€± | Projection Engine + æ¶æ§‹é‡æ§‹ | ~50 files |
| **Phase 2: Task Domain** | 2-3 é€± | Events, Decisions, Projections, Processes | ~100 files |
| **Phase 3: Platform** | 2-3 é€± | Platform Entities å®Œæ•´å¯¦ä½œ | ~170 files |
| **Phase 4: æ•´åˆ** | 1-2 é€± | æ¸¬è©¦ã€æ–‡ä»¶ | ~50 files |
| **ç¸½è¨ˆ** | **6-10 é€±** | | **~370 files** |

---

## ğŸ¯ ç¸½çµ

### âœ… å¯ä»¥é–‹å§‹å»ºç«‹æ¥­å‹™å¯¦é«”

**ä½†å¿…é ˆå…ˆåšé€™äº›äº‹**:

1. **Week 1**: 
   - å»ºç«‹ Projection Engine
   - å‰µå»º ADR è¨˜éŒ„æ¶æ§‹æ±ºç­–
   - è¦åŠƒé‡æ§‹ç´°ç¯€

2. **Week 2**:
   - é‡æ§‹ `features/domains/` ç¬¦åˆ Task.md
   - å¯¦ä½œ Snapshot æ©Ÿåˆ¶
   - æ›´æ–° Dev Tools

3. **Week 3+**:
   - é–‹å§‹å»ºç«‹ Task Domain
   - ç„¶å¾Œ Platform Layer
   - æœ€å¾Œæ•´åˆæ¸¬è©¦

### âš ï¸ ä¸å»ºè­°ç¾åœ¨ç«‹å³å»ºç«‹

**å¦‚æœè·³éé‡æ§‹ç›´æ¥å»ºç«‹**:
- æœƒæœ‰å…©å¥—ä¸ä¸€è‡´çš„æ¶æ§‹
- é•å Task.md åŸå‰‡
- æŠ€è¡“å‚µæœƒè¶Šä¾†è¶Šé‡
- æœªä¾†é‡æ§‹æˆæœ¬æœƒæ›´é«˜

### ğŸ¯ å»ºè­°è¡Œå‹•

**ç¾åœ¨å°±åš**:
1. å‰µå»º ADR-001 å’Œ ADR-002
2. å»ºç«‹ Projection Engine éª¨æ¶
3. è¦åŠƒè©³ç´°çš„é‡æ§‹è¨ˆåŠƒ

**æœ¬é€±å…§å®Œæˆ**:
- Projection Engine åŸºç¤è¨­æ–½
- `features/domains/` é‡æ§‹è¦åŠƒ
- åœ˜éšŠå°é½Šæ¶æ§‹åŸå‰‡

**ä¸‹é€±é–‹å§‹**:
- æ¼¸é€²å¼é‡æ§‹
- å»ºç«‹ Task Events
- å¯¦ä½œ Decision å±¤

---

**æˆ‘å€‘å¯ä»¥è¨è«–ä»¥ä¸‹å•é¡Œ**:

1. ä½ å€‘å°é‡æ§‹ `features/domains/` çš„æ™‚ç¨‹æœ‰ä»€éº¼è€ƒé‡ï¼Ÿ
2. ç¾æœ‰çš„ `issue/`, `comment/`, `discussion/` æœ‰æ²’æœ‰å·²ä¸Šç·šçš„åŠŸèƒ½ï¼Ÿ
3. å°æ–¼ Projection Engine çš„å¯¦ä½œï¼Œæœ‰æ²’æœ‰æ•ˆèƒ½ä¸Šçš„ç‰¹æ®Šéœ€æ±‚ï¼Ÿ
4. Platform Layer çš„å„ªå…ˆç´šå¦‚ä½•ï¼Ÿæ˜¯å¦å¯ä»¥å»¶å¾Œåˆ° Task Domain å®Œæˆå¾Œï¼Ÿ

---

**å ±å‘Šæ—¥æœŸ**: 2025-12-31  
**åˆ†æè€…**: GitHub Copilot Agent
