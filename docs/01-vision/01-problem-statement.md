# 問題陳述 (Problem Statement)

## 我們要解決什麼問題

### 現況挑戰

傳統系統面臨的根本問題：

1. **狀態即真相的謬誤**
   - CRUD 直接修改狀態，丟失變化歷程
   - 無法追溯「為何」發生變化
   - 無法回答「何時」發生變化
   - 無法重現「如何」到達當前狀態

2. **因果關係遺失**
   - 業務操作之間的關聯不明確
   - 分散式系統中的事件追蹤困難
   - 無法建立完整的審計追蹤
   - 錯誤發生時難以定位根因

3. **決策能力受限**
   - 無法模擬「如果...會怎樣」
   - 無法回溯到歷史狀態進行分析
   - 無法驗證業務規則的長期影響
   - 無法進行時間點查詢

4. **系統可靠性問題**
   - 狀態不一致難以偵測和修復
   - 併發衝突處理複雜
   - 資料遺失後難以恢復
   - 測試覆蓋率不足

## 核心痛點

### 對業務的影響
- ❌ 無法提供完整的審計報告
- ❌ 無法分析業務流程的瓶頸
- ❌ 無法評估政策變更的歷史影響
- ❌ 無法進行合規性追溯

### 對開發的影響
- ❌ 難以理解系統行為
- ❌ 難以重現生產環境問題
- ❌ 難以測試複雜業務流程
- ❌ 難以維護複雜狀態機

### 對運維的影響
- ❌ 難以定位系統故障根因
- ❌ 難以恢復資料到特定時間點
- ❌ 難以進行性能分析
- ❌ 難以進行容量規劃

## 為何需要新範式

### Event Sourcing 不夠
純粹的 Event Sourcing 關注事件儲存，但缺乏：
- 因果關係的明確建模
- 決策過程的可重播性
- 流程編排的清晰語義

### CQRS 不夠
CQRS 分離讀寫，但缺乏：
- 完整的歷史追溯能力
- 因果關係的追蹤機制
- 模擬與預測能力

### Workflow Engine 不夠
流程引擎編排任務，但缺乏：
- 事件的不可變性保證
- 因果關係的顯式建模
- 狀態的可重播性

## 我們的答案

> **Causality-Driven Event-Sourced Process System**

透過：
1. ✅ **事件作為唯一真相** - 不可變、可追溯
2. ✅ **因果關係明確建模** - 每個變化都有清楚的成因
3. ✅ **可重播與模擬** - 支援時間旅行與決策模擬
4. ✅ **確定性處理** - 相同事件序列產生相同結果

解決：
- 完整的審計追蹤
- 清晰的因果分析
- 可靠的決策支援
- 高度的系統可靠性

---

**下一步**：[系統目標](./system-goals.md) | [非目標](./non-goals.md)
